{"ast":null,"code":"import { Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/bibliotech.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ngx-cookie-service\";\nimport * as i5 from \"ngx-toastr\";\nimport * as i6 from \"@angular/common\";\n\nfunction RegisterComponent_ng_container_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\")(2, \"label\", 18);\n    i0.ɵɵtext(3, \"Seu email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\")(6, \"label\", 20);\n    i0.ɵɵtext(7, \"Senha\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", (tmp_0_0 = ctx_r0.registerForm.get(\"email\")) == null ? null : tmp_0_0.value);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", (tmp_1_0 = ctx_r0.registerForm.get(\"password\")) == null ? null : tmp_1_0.value);\n  }\n}\n\nfunction RegisterComponent_button_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function RegisterComponent_button_21_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.register();\n    });\n    i0.ɵɵtext(1, \" Criar sua conta \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function RegisterComponent_div_22_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.register();\n    });\n    i0.ɵɵtext(2, \" Atualizar informa\\u00E7\\u00F5es \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 25);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(4, \"svg\", 26);\n    i0.ɵɵelement(5, \"path\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" Descartar altera\\u00E7\\u00F5es \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", \"/books\");\n  }\n}\n\nfunction RegisterComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"p\", 29);\n    i0.ɵɵtext(2, \" J\\u00E1 tem uma conta? \");\n    i0.ɵɵelementStart(3, \"a\", 30);\n    i0.ɵɵtext(4, \"Entre aqui\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(service, fb, route, router, cookieService, toastService) {\n      this.service = service;\n      this.fb = fb;\n      this.route = route;\n      this.router = router;\n      this.cookieService = cookieService;\n      this.toastService = toastService;\n    }\n\n    ngOnInit() {\n      this.service.getUser();\n      this.initializeForm();\n      this.route.params.subscribe(params => {\n        this.optParam = params[\"opt\"];\n      });\n      this.user = this.service.user;\n      this.optParam === \"edit\" ? this.setForm() : null;\n    }\n\n    initializeForm() {\n      this.registerForm = this.fb.group({\n        email: [\"\", [Validators.required]],\n        firstName: [\"\", [Validators.required]],\n        lastName: [\"\", [Validators.required]],\n        password: [\"\", [Validators.required, Validators.minLength(6)]]\n      });\n    }\n\n    setForm() {\n      this.registerForm = this.fb.group({\n        email: [this.user.email, [Validators.required]],\n        firstName: [this.user.firstName, [Validators.required]],\n        lastName: [this.user.lastName, [Validators.required]],\n        password: [this.user.password, [Validators.required, Validators.minLength(6)]]\n      });\n    }\n\n    register() {\n      if (this.optParam === \"new\") {\n        this.service.register(this.registerForm.value).subscribe(() => this.toastService.success(\"Usuário criado com sucesso!\"));\n      } else {\n        this.service.updateUser(this.registerForm.value).subscribe(update => {\n          this.service.user = update.data;\n          this.service.userId = update.data.id;\n          this.cookieService.set(\"userObject\", JSON.stringify(this.service.user));\n          this.router.navigate([\"/books\"]);\n          this.toastService.success(\"Usuário editado com sucesso!\");\n        });\n      }\n    }\n\n  }\n\n  RegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n    return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.BibliotechService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.CookieService), i0.ɵɵdirectiveInject(i5.ToastrService));\n  };\n\n  RegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterComponent,\n    selectors: [[\"app-register\"]],\n    decls: 24,\n    vars: 8,\n    consts: [[1, \"bg-primary-200\", \"h-full\", \"dark:bg-gray-900\", \"flex\", \"w-full\"], [1, \"flex\", \"flex-col\", \"mt-6\", \"items-center\", \"justify-center\", \"bg-primary-200\", \"px-6\", \"py-8\", \"w-full\", \"md:h-screen\", \"lg:py-0\"], [1, \"my-6\", \"flex\", \"items-center\"], [\"href\", \"#\", 1, \"flex\", \"items-center\", \"text-4xl\", \"font-bold\", \"text-gray-900\", \"dark:text-white\"], [\"src\", \"../assets/icons/bibliotech.png\", \"alt\", \"logo\", 1, \"w-14\", \"h-14\", \"mr-2\"], [1, \"w-full\", \"bg-white\", \"my-6\", \"rounded-lg\", \"shadow\", \"dark:border\", \"md:mt-0\", \"sm:max-w-md\", \"xl:p-0\", \"dark:bg-gray-800\", \"dark:border-gray-700\"], [1, \"p-6\", \"space-y-4\", \"md:space-y-6\", \"sm:p-8\"], [1, \"text-xl\", \"font-bold\", \"leading-tight\", \"tracking-tight\", \"text-gray-900\", \"md:text-2xl\", \"dark:text-white\"], [1, \"space-y-4\", \"md:space-y-6\", 3, \"formGroup\"], [\"for\", \"first-name\", 1, \"block\", \"mb-2\", \"text-sm\", \"font-medium\", \"text-gray-900\", \"dark:text-white\"], [\"type\", \"first-name\", \"name\", \"first-name\", \"formControlName\", \"firstName\", \"id\", \"first-name\", \"required\", \"\", 1, \"bg-gray-50\", \"border\", \"border-gray-300\", \"text-gray-900\", \"sm:text-sm\", \"rounded-lg\", \"focus:ring-primary-600\", \"focus:border-primary-600\", \"block\", \"w-full\", \"p-2.5\", \"dark:bg-gray-700\", \"dark:border-gray-600\", \"dark:placeholder-gray-400\", \"dark:text-white\", \"dark:focus:ring-blue-500\", \"dark:focus:border-blue-500\", 3, \"value\"], [\"for\", \"last-name\", 1, \"block\", \"mb-2\", \"text-sm\", \"font-medium\", \"text-gray-900\", \"dark:text-white\"], [\"type\", \"last-name\", \"name\", \"last-name\", \"formControlName\", \"lastName\", \"id\", \"last-name\", \"required\", \"\", 1, \"bg-gray-50\", \"border\", \"border-gray-300\", \"text-gray-900\", \"sm:text-sm\", \"rounded-lg\", \"focus:ring-primary-600\", \"focus:border-primary-600\", \"block\", \"w-full\", \"p-2.5\", \"dark:bg-gray-700\", \"dark:border-gray-600\", \"dark:placeholder-gray-400\", \"dark:text-white\", \"dark:focus:ring-blue-500\", \"dark:focus:border-blue-500\", 3, \"value\"], [4, \"ngIf\"], [1, \"flex\", \"items-center\", \"space-x-4\"], [\"class\", \"w-full text-white bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"flex gap-x-2\", 4, \"ngIf\"], [\"class\", \"flex justify-center\", 4, \"ngIf\"], [\"for\", \"email\", 1, \"block\", \"mb-2\", \"text-sm\", \"font-medium\", \"text-gray-900\", \"dark:text-white\"], [\"type\", \"email\", \"name\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"name@company.com\", \"required\", \"\", 1, \"bg-gray-50\", \"border\", \"border-gray-300\", \"text-gray-900\", \"sm:text-sm\", \"rounded-lg\", \"focus:ring-primary-600\", \"focus:border-primary-600\", \"block\", \"w-full\", \"p-2.5\", \"dark:bg-gray-700\", \"dark:border-gray-600\", \"dark:placeholder-gray-400\", \"dark:text-white\", \"dark:focus:ring-blue-500\", \"dark:focus:border-blue-500\", 3, \"value\"], [\"for\", \"password\", 1, \"block\", \"mb-2\", \"text-sm\", \"font-medium\", \"text-gray-900\", \"dark:text-white\"], [\"type\", \"password\", \"name\", \"password\", \"id\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\", \"required\", \"\", 1, \"bg-gray-50\", \"border\", \"border-gray-300\", \"text-gray-900\", \"sm:text-sm\", \"rounded-lg\", \"focus:ring-primary-600\", \"focus:border-primary-600\", \"block\", \"w-full\", \"p-2.5\", \"dark:bg-gray-700\", \"dark:border-gray-600\", \"dark:placeholder-gray-400\", \"dark:text-white\", \"dark:focus:ring-blue-500\", \"dark:focus:border-blue-500\", 3, \"value\"], [1, \"w-full\", \"text-white\", \"bg-primary-700\", \"hover:bg-primary-800\", \"focus:ring-4\", \"focus:outline-none\", \"focus:ring-primary-300\", \"font-medium\", \"rounded-lg\", \"text-sm\", \"px-5\", \"py-2.5\", \"text-center\", \"dark:bg-primary-600\", \"dark:hover:bg-primary-700\", \"dark:focus:ring-primary-800\", 3, \"click\"], [1, \"flex\", \"gap-x-2\"], [1, \"text-white\", \"bg-primary-700\", \"hover:bg-primary-800\", \"focus:ring-4\", \"focus:outline-none\", \"focus:ring-primary-300\", \"font-medium\", \"rounded-lg\", \"text-sm\", \"px-5\", \"py-2.5\", \"text-center\", \"dark:bg-primary-600\", \"dark:hover:bg-primary-700\", \"dark:focus:ring-primary-800\", 3, \"click\"], [\"type\", \"button\", 1, \"text-red-600\", \"inline-flex\", \"items-center\", \"hover:text-white\", \"border\", \"border-red-600\", \"hover:bg-red-600\", \"focus:ring-4\", \"focus:outline-none\", \"focus:ring-red-300\", \"font-medium\", \"rounded-lg\", \"text-sm\", \"px-5\", \"py-2.5\", \"text-center\", \"dark:border-red-500\", \"dark:text-red-500\", \"dark:hover:text-white\", \"dark:hover:bg-red-600\", \"dark:focus:ring-red-900\", 3, \"routerLink\"], [\"fill\", \"currentColor\", \"viewBox\", \"0 0 20 20\", \"xmlns\", \"http://www.w3.org/2000/svg\", 1, \"w-5\", \"h-5\", \"mr-1\", \"-ml-1\"], [\"fill-rule\", \"evenodd\", \"d\", \"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\", \"clip-rule\", \"evenodd\"], [1, \"flex\", \"justify-center\"], [1, \"text-sm\", \"font-light\", \"text-gray-500\", \"dark:text-gray-400\"], [\"href\", \"/login\", 1, \"font-medium\", \"text-primary-600\", \"hover:underline\", \"dark:text-primary-500\"]],\n    template: function RegisterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"a\", 3);\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵtext(5, \" Bibliotech \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"h1\", 7);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"form\", 8)(11, \"div\")(12, \"label\", 9);\n        i0.ɵɵtext(13, \"Seu primeiro nome\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"input\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\")(16, \"label\", 11);\n        i0.ɵɵtext(17, \"Seu \\u00FAltimo nome\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"input\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, RegisterComponent_ng_container_19_Template, 9, 2, \"ng-container\", 13);\n        i0.ɵɵelementStart(20, \"div\", 14);\n        i0.ɵɵtemplate(21, RegisterComponent_button_21_Template, 2, 0, \"button\", 15);\n        i0.ɵɵtemplate(22, RegisterComponent_div_22_Template, 7, 1, \"div\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(23, RegisterComponent_div_23_Template, 5, 0, \"div\", 17);\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        let tmp_2_0;\n        let tmp_3_0;\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate1(\" \", ctx.optParam === \"new\" ? \"Criar sua conta\" : \"Edite seus dados\", \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"value\", (tmp_2_0 = ctx.registerForm.get(\"firstName\")) == null ? null : tmp_2_0.value);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"value\", (tmp_3_0 = ctx.registerForm.get(\"lastName\")) == null ? null : tmp_3_0.value);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.optParam === \"new\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.optParam === \"new\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.optParam === \"edit\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.optParam === \"new\");\n      }\n    },\n    directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i2.RequiredValidator, i6.NgIf, i3.RouterLink],\n    styles: [\"\"]\n  });\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}